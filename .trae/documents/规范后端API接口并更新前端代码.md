# 规范后端API接口并更新前端代码

## 1. 后端API接口规范

### 1.1 改进点
- **响应格式统一**：确保所有API响应格式一致，包括成功和错误响应
- **状态码规范**：使用标准的HTTP状态码
- **查询参数处理**：优化查询参数处理，确保符合REST最佳实践
- **限制查询数量**：确保所有列表查询接口默认限制为20条记录

### 1.2 具体修改
- **customerService.js**：
  - 确保所有函数返回格式一致
  - 优化getCustomersByParams函数，确保默认限制为20条

- **app.js**：
  - 统一所有API响应格式
  - 确保使用正确的HTTP状态码
  - 优化错误处理

## 2. 前端代码更新

### 2.1 改进点
- **API调用优化**：确保前端使用规范后的API接口
- **响应处理**：优化API响应处理，适配后端的统一响应格式
- **错误处理**：增强错误处理能力
- **数据展示**：确保数据展示符合要求

### 2.2 具体修改
- **apiClient.ts**：
  - 优化API客户端，确保正确处理后端响应
  - 统一错误处理

- **base_cust/index.vue**：
  - 更新fetchCustomerData函数，适配后端API
  - 优化数据处理逻辑
  - 确保正确显示最多20条记录

## 3. 测试验证
- 启动后端服务器
- 启动前端开发服务器
- 测试客户资料管理功能
- 验证API响应格式
- 验证查询限制是否正确

## 4. 执行步骤
1. 修改后端API接口
2. 更新前端代码
3. 启动服务进行测试
4. 验证功能是否正常