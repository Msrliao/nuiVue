# 实现配件搜索功能

## 前端修改

### 1. 修改 index.vue
- 添加搜索按钮，点击时触发搜索事件
- 监听表单输入变化，实时或点击搜索按钮时发送搜索条件
- 使用 emitter 将搜索条件传递给 table.vue

### 2. 修改 table.vue
- 监听搜索事件，接收搜索条件
- 修改 fetchPartInfoData 函数，支持传递搜索参数
- 根据搜索条件调用后端 API 获取数据

## 后端修改

### 1. 修改 partsService.js
- 合并 getAllPartInfo 和 searchPartInfo 函数，创建一个新的函数支持多条件搜索
- 实现支持以下条件的 SQL 查询：
  - 配件编码/序码：bm 或 xm 字段
  - 配件车型：cx（汉字）或 cxjp（首字母）字段
  - 配件名称：mc（汉字）或 jp（简拼）字段
  - 配件规格：gg 字段
- 支持空条件搜索（返回所有数据）
- 删除无用的函数

### 2. 修改 app.js 中的 API 路由
- 修改 GET /api/part-info 接口，支持接收搜索参数
- 删除不需要的搜索接口（如 /api/part-info/search）

## 实现步骤

1. 后端：修改 partsService.js，创建支持多条件搜索的函数
2. 后端：修改 app.js，更新 GET /api/part-info 接口
3. 前端：修改 table.vue，支持接收搜索条件和调用带参数的 API
4. 前端：修改 index.vue，添加搜索按钮和搜索逻辑
5. 测试搜索功能，确保所有条件都能正常工作

## 预期效果

- 当所有输入框为空时，显示所有配件资料
- 输入配件编码时，搜索 bm 或 xm 字段
- 输入配件车型时，搜索 cx（汉字）或 cxjp（首字母）字段
- 输入配件名称时，搜索 mc（汉字）或 jp（简拼）字段
- 输入配件规格时，搜索 gg 字段
- 多个条件组合时，使用 AND 连接
- 搜索结果实时更新到表格中